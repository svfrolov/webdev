from django.core.management.base import BaseCommand
from services.models import RealEstate

class Command(BaseCommand):
    help = 'Создает тестовые объекты недвижимости'

    def handle(self, *args, **options):
        # Сначала удалим существующие объекты, чтобы избежать дубликатов
        RealEstate.objects.all().delete()
        self.stdout.write(self.style.SUCCESS('Удалены существующие объекты недвижимости'))

        # Создаем первый объект недвижимости - ЖК "Ильинские луга"
        real_estate1 = RealEstate.objects.create(
            name="ЖК Ильинские луга",
            description="""Жилой комплекс «Ильинские луга» — это современный микрорайон с развитой инфраструктурой в экологически чистом районе Подмосковья. Расположен в 8 км от МКАД по Новорижскому шоссе.

Комплекс состоит из 9 корпусов переменной этажности (от 12 до 25 этажей) с просторными квартирами современных планировок. Из окон открываются живописные виды на лесопарковую зону и реку Москву.

Особенности комплекса:
- Собственная набережная и благоустроенный парк
- Детские сады и школа на территории
- Подземный паркинг и наземные парковки
- Коммерческие помещения на первых этажах
- Закрытые дворы без машин

Транспортная доступность:
- 8 км до МКАД по Новорижскому шоссе
- 15 минут на автомобиле до станции метро «Строгино»
- Регулярные автобусы до метро""",
            is_active=True,
            image_url="https://cdn.pixabay.com/photo/2016/11/18/17/46/house-1836070_1280.jpg",
            price=6500000,
            area=54.8,
            address="Московская область, г. Красногорск, Ильинское шоссе",
            rooms=2,
            floor=8,
            total_floors=24,
            property_type="apartment"
        )
        self.stdout.write(self.style.SUCCESS(f'Создан объект: {real_estate1.name}'))

        # Создаем второй объект недвижимости - ЖК "Западный порт"
        real_estate2 = RealEstate.objects.create(
            name="ЖК Западный порт",
            description="""Жилой комплекс «Западный порт» — это квартал бизнес-класса на берегу Москвы-реки в престижном районе столицы. Расположен в 5 км от центра города.

Комплекс включает 6 корпусов высотой от 14 до 21 этажа с квартирами премиальных планировок. Панорамные окна обеспечивают великолепные виды на набережную и центр Москвы.

Особенности комплекса:
- Собственная благоустроенная набережная протяженностью 1,5 км
- Двухуровневый подземный паркинг
- Детский сад на 150 мест
- Фитнес-центр с бассейном
- Рестораны и кафе на первых этажах
- Закрытая охраняемая территория

Транспортная доступность:
- 10 минут пешком до станции метро «Фили»
- 15 минут на автомобиле до Садового кольца
- Удобный выезд на ТТК и Кутузовский проспект""",
            is_active=True,
            image_url="https://cdn.pixabay.com/photo/2014/07/10/17/18/large-home-389271_1280.jpg",
            price=12800000,
            area=76.2,
            address="г. Москва, Причальный проезд, вл. 8",
            rooms=3,
            floor=15,
            total_floors=21,
            property_type="apartment"
        )
        self.stdout.write(self.style.SUCCESS(f'Создан объект: {real_estate2.name}'))

        # Создаем третий объект недвижимости - ЖК "Зеленые аллеи"
        real_estate3 = RealEstate.objects.create(
            name="ЖК Зеленые аллеи",
            description="""Жилой комплекс «Зеленые аллеи» — это современный микрорайон комфорт-класса в окружении лесопарковых зон. Расположен в 4 км от МКАД в городе Видное.

Комплекс состоит из 12 монолитных домов высотой от 17 до 25 этажей с квартирами улучшенных планировок. Из окон открываются виды на лесной массив и благоустроенную территорию комплекса.

Особенности комплекса:
- Собственный парк с прогулочными аллеями
- Два детских сада и школа
- Спортивные и детские площадки
- Торговый центр с супермаркетом
- Наземный и подземный паркинги
- Медицинский центр

Транспортная доступность:
- 4 км до МКАД
- 15 минут на общественном транспорте до станции метро «Домодедовская»
- Регулярные автобусы и маршрутки до метро
- Удобный выезд на Каширское шоссе""",
            is_active=True,
            image_url="https://cdn.pixabay.com/photo/2017/04/10/22/28/residence-2219972_1280.jpg",
            price=5200000,
            area=42.5,
            address="Московская область, г. Видное, Ермолинская улица",
            rooms=1,
            floor=10,
            total_floors=17,
            property_type="apartment"
        )
        self.stdout.write(self.style.SUCCESS(f'Создан объект: {real_estate3.name}'))

        # Проверяем, что все объекты созданы
        count = RealEstate.objects.count()
        self.stdout.write(self.style.SUCCESS(f'Всего создано объектов недвижимости: {count}'))